extends includes/layout.jade

mixin background(path)
  div(style="background-image: url('" + path + "')").media
  
mixin media()
  .outer-wrapper
    -var src = manifest.src.toLowerCase();
    -var p = base + "/raw" + manifest.src;
    if src.indexOf(".png") > 0 || src.indexOf(".jpg") > 0 || src.indexOf(".bmp") > 0 || src.indexOf("gif") > 0
      .media
        img(src=p)
    else if src.indexOf(".mov") > 0
      .media
        video(controls).responsive-video
          source(src=p, type="video/quicktime")
          Your browser does not like this video.
    else if src.indexOf(".mp4") > 0
      .media
        video(controls).responsive-video
          source(src=p, type="video/mp4")
          Your browser does not like this video.
          
block content
  a(href=base) Back to #{name}
  a(href=manifest.src)
    +media()
  h1.center= manifest.title
    br
    sub(style="color: rgba(0,0,0,0.6); font-size: 1rem")
      each tag in manifest.tags.slice(0,manifest.tags.length-1)
        | #{tag}, 
      | #{manifest.tags[manifest.tags.length-1]}
  hr
  p.center= manifest.description
  .center
    a.center(href="/browse/user/"+manifest.author.id+"/node/local") More from user
    